<form class="form">
  <!-- todo make the code more generic with ngFor -->

  <mat-form-field class="full-width">
    <mat-label>Name</mat-label>
    <input
      type="email"
      matInput
      [formControl]="name"
      [errorStateMatcher]="errorStateMatcher"
      placeholder="Your name"
    />

    @if (name.hasError('name') && !name.hasError('required')) {
      <mat-error>Please enter a name w/o special characters</mat-error>
    }

    @if (name.hasError('required')) {
      <mat-error>Name is <strong>required</strong></mat-error>
    }
  </mat-form-field>

  <mat-form-field class="full-width">
    <mat-label>Email</mat-label>

    <input
      type="email"
      matInput
      [formControl]="email"
      [errorStateMatcher]="errorStateMatcher"
      placeholder="your@email.com"
    />

    @if (email.hasError('email') && !email.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }

    @if (email.hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
  </mat-form-field>

  <mat-form-field class="full-width">
    <mat-label>Message</mat-label>
    <textarea
      type="text"
      matInput
      [formControl]="message"
      [errorStateMatcher]="errorStateMatcher"
      placeholder="Your message..."
    ></textarea>

    @if (message.hasError('message') && !message.hasError('required')) {
      <mat-error>Please enter a name w/o special characters</mat-error>
    }

    @if (message.hasError('required')) {
      <mat-error>Message is <strong>required</strong></mat-error>
    }
  </mat-form-field>
</form>

<button
  (click)="onSubmit()"
  class="submit-button"
  [disabled]="!formValuesChanged()"
>
  Submit
</button>
